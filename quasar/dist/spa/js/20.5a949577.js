(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"0668":function(e,t,s){},"713b":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.authenticated?s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",{staticClass:"gradient-cyan-10-cyan-9-90deg"},[e.authenticated?s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}):e._e(),s("q-toolbar-title",[e._v("\n        "+e._s(e.$store.state.pageTitle)+"\n      ")]),s("div",{staticClass:"text-subtitle2 q-mr-lg"},[e._v("Hello "+e._s(e.$store.getters.user.name))]),s("q-btn",{attrs:{icon:"notifications",dense:"",flat:"",to:"/notifications"}},[e.unread_notifications_count>0?s("q-badge",{attrs:{color:"orange",floating:""}},[e._v(e._s(e.unread_notifications_count))]):e._e()],1),s("q-btn",{attrs:{flat:"",round:"",icon:"account_circle"}}),s("q-btn",{attrs:{flat:"",round:"",icon:"logout"},on:{click:function(t){return e.logout()}}})],1)],1),e.authenticated?s("q-drawer",{attrs:{width:200,"show-if-above":"","no-border":"","content-class":"text-white no-border gradient-cyan-9-cyan-10-90deg"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[s("q-list",e._l(e.linksData,(function(t){return s("EssentialLink",e._b({key:t.title},"EssentialLink",t,!1))})),1)],1):e._e(),s("q-page-container",{style:{backgroundImage:"linear-gradient(rgba(255,255,255,.9), rgba(255,255,255,.9)), url(/apexion_logo.svg)",backgroundSize:"80%",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"}},[s("router-view")],1)],1):e._e()},n=[],o=s("ded3"),r=s.n(o),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.children.length>0?s("q-expansion-item",{attrs:{group:"group",icon:e.icon,dark:"",label:e.title}},e._l(e.children,(function(t){return s("q-list",{key:t.link,staticClass:"bg-blue-grey-8",attrs:{"content-inset-level":0}},[s("q-item",{staticStyle:{"padding-left":"15px"},attrs:{"active-class":"bg-light-blue-5 text-lime-5",clickable:"",tage:"a",to:e.link+t.link}},[s("q-item-section",[s("q-item-label",[e._v(e._s(t.title))])],1)],1)],1)})),1):s("q-item",{attrs:{exact:"",clickable:"",tag:"a","active-class":"bg-light-blue-5 text-lime-5",to:e.link}},[e.icon?s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:e.icon}})],1):e._e(),s("q-item-section",[s("q-item-label",[e._v(e._s(e.title))])],1)],1)},l=[],h={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""},children:{type:Array,default:()=>[]}}},c=h,u=s("2877"),p=s("3b73"),d=s("1c1c"),g=s("66e5"),m=s("4074"),_=s("0170"),k=s("0016"),$=s("eebe"),w=s.n($),y=Object(u["a"])(c,a,l,!1,null,null,null),v=y.exports;w()(y,"components",{QExpansionItem:p["a"],QList:d["a"],QItem:g["a"],QItemSection:m["a"],QItemLabel:_["a"],QIcon:k["a"]});var b=s("2f62"),f={name:"MainLayout",components:{EssentialLink:v},data(){return{leftDrawerOpen:!1,unread_notifications_count:0}},computed:r()({linksData(){const e=[];if(e.push({title:"Dashboard",icon:"home",link:"/"}),this.$store.getters.hasPermissionTo("viewAny_product")||this.$store.getters.hasPermissionTo("viewAny_category")||this.$store.getters.hasPermissionTo("viewAny_taxonomy")||this.$store.getters.hasPermissionTo("viewAny_product_attribute")||this.$store.getters.hasPermissionTo("viewAny_product_attribute_set")||this.$store.getters.hasPermissionTo("viewAny_pricelist")){const t=[];this.$store.getters.hasPermissionTo("viewAny_product")&&t.push({title:"Products",link:"/products"}),this.$store.getters.hasPermissionTo("viewAny_product")&&(t.push({title:"Product Bundles",link:"/product_bundles"}),t.push({title:"Product Types",link:"/product_types"}),t.push({title:"Department",link:"/product_departments"}),t.push({title:"Categories",link:"/product_categories"}),t.push({title:"Sub Categories",link:"/product_sub_categories"}),t.push({title:"Brands",link:"/product_brands"})),this.$store.getters.hasPermissionTo("viewAny_pricelist")&&t.push({title:"Pricelists",link:"/pricelists"}),e.push({title:"Catalog",icon:"archive",link:"",children:t})}if(this.$store.getters.hasPermissionTo("viewAny_customer")){const t=[];this.$store.getters.hasPermissionTo("viewAny_customer")&&t.push({title:"Customers",link:"/customers"}),this.$store.getters.hasPermissionTo("viewAny_lead")&&t.push({title:"Leads",link:"/leads"}),this.$store.getters.hasPermissionTo("viewAny_quotation")&&t.push({title:"Quotations",link:"/quotations"}),this.$store.getters.hasPermissionTo("viewAny_quotation")&&t.push({title:"Quotation Templates",link:"/quotation_templates"}),e.push({title:"CRM",icon:"supervisor_account",link:"",children:t})}if(this.$store.getters.hasPermissionTo("viewAny_lead")){const t=[];this.$store.getters.hasPermissionTo("viewAny_lead")&&t.push({title:"Phones",link:"/phones"}),this.$store.getters.hasPermissionTo("viewAny_lead")&&t.push({title:"Emails",link:"/emails"}),e.push({title:"Marketing",icon:"public",link:"",children:t})}if(this.$store.getters.hasPermissionTo("viewAny_sale_order")){const t=[];this.$store.getters.hasPermissionTo("viewAny_sale_order")&&(t.push({title:"Sale Orders",link:"/sale_orders"}),t.push({title:"Sale Order Revisit",link:"/sale_order_revisits"}),t.push({title:"Sale Returns",link:"/sale_returns"}),t.push({title:"Exports",link:"/export_sales"})),e.push({title:"Sales",icon:"point_of_sale",link:"",children:t})}if(this.$store.getters.hasPermissionTo("viewAny_shipment")||this.$store.getters.hasPermissionTo("viewAny_logistic_partner")){const t=[];this.$store.getters.hasPermissionTo("viewAny_sale_order")&&(t.push({title:"Shipments",link:"/shipments"}),t.push({title:"Logistic Partners",link:"/logistic_partners"})),e.push({title:"Logistics",icon:"local_shipping",link:"",children:t})}if(this.$store.getters.hasPermissionTo("viewAny_purchase")){const t=[];this.$store.getters.hasPermissionTo("viewAny_purchase")&&(t.push({title:"Purchases",link:"/purchases"}),t.push({title:"Purchase Returns",link:"/purchase_returns"}),t.push({title:"Suppliers",link:"/suppliers"})),e.push({title:"Purchases",icon:"receipt",link:"",children:t})}if(this.$store.getters.hasPermissionTo("access_inventory")){const t=[];this.$store.getters.hasPermissionTo("viewAny_warehouse")&&(t.push({title:"Warehouses",link:"/warehouses"}),t.push({title:"Stock Entries",link:"/stock_entries"})),this.$store.getters.hasPermissionTo("create_purchase")&&t.push({title:"Goods Receive Notes",link:"/goods_receive_notes"}),e.push({title:"Inventory",icon:"dns",link:"",children:t})}if(this.$store.getters.hasPermissionTo("viewAny_user")||this.$store.getters.hasPermissionTo("viewAny_user_role")){const t=[];this.$store.getters.hasPermissionTo("viewAny_user")&&t.push({title:"Users",link:"/users"}),this.$store.getters.hasPermissionTo("viewAny_user_role")&&t.push({title:"User Roles",link:"/user_roles"}),e.push({title:"Users",icon:"people",link:"",children:t})}return(this.$store.getters.hasPermissionTo("export_product")||this.$store.getters.hasPermissionTo("export_customer")||this.$store.getters.hasPermissionTo("export_sale_order")||this.$store.getters.hasPermissionTo("export_lead")||this.$store.getters.hasPermissionTo("export_quotation")||this.$store.getters.hasPermissionTo("export_phone"))&&e.push({title:"Exports",icon:"get_app",link:"/exports"}),(this.$store.getters.hasRole("Super Admin")||this.$store.getters.hasRole("Admin"))&&e.push({title:"Settings",icon:"settings",link:"/settings"}),e}},Object(b["b"])(["authenticated","appLoading"])),watch:{authenticated(e,t){this.$store.getters.isAuthenticated?this.$router.push({name:"Dashboard"}):this.$router.push({name:"LoginPage"})}},mounted(){this.$store.dispatch("init"),this.$store.getters.isAuthenticated||this.$router.push({name:"LoginPage"}),window.intercepted.$on("error403",(e=>{this.$q.notify({type:"negative",message:e})})),window.intercepted.$on("error500",(()=>{this.$q.notify({type:"negative",message:"Something went wrong!!"})})),window.intercepted.$on("error404",(()=>{this.$router.push({name:"Error404"})})),window.intercepted.$on("error401",(()=>{this.$store.commit("setAuthenticated",!1)})),this.$store.getters.user},methods:{logout(){this.$q.dialog({title:"Confirm",message:"Do you really want to logout?",cancel:!0,persistent:!0}).onOk((()=>{this.$q.loading.show(),this.$store.dispatch("logout").then((()=>{this.$q.loading.hide()})).catch((e=>{throw this.$q.loading.hide(),new Error(`Problem handling something: ${e}.`)}))})).onCancel((()=>{}))},notifyFn(){this.$q.dialog({title:"Confirm",message:"Would you like to continue?",cancel:!0,persistent:!0}).onOk((()=>{this.$axios.get("notify").then((e=>{this.$q.notify({message:"Done Done"})}))}))}}},P=f,T=(s("83ec"),s("4d5a")),q=s("e359"),A=s("65c6"),x=s("9c40"),Q=s("6ac5"),S=s("58a81"),L=s("9404"),D=s("09e3"),E=s("eaac"),O=Object(u["a"])(P,i,n,!1,null,null,null);t["default"]=O.exports;w()(O,"components",{QLayout:T["a"],QHeader:q["a"],QToolbar:A["a"],QBtn:x["a"],QToolbarTitle:Q["a"],QBadge:S["a"],QDrawer:L["a"],QList:d["a"],QPageContainer:D["a"],QTable:E["a"]})},"83ec":function(e,t,s){"use strict";s("0668")}}]);