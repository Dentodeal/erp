(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[69],{"208a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",[r("page-toolbar",{attrs:{buttons:e.toolbarButtons}}),r("breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),r("div",{class:e.$q.screen.gt.sm?"q-px-lg q-mt-md":"q-px-xs q-mt-sm"},[r("q-card",[r("q-card-section",[r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("q-table",{attrs:{columns:e.columns,data:e.sales,"row-key":"serial_no",pagination:{rowsPerPage:20}},scopedSlots:e._u([{key:"body-cell-sl_no",fn:function(t){return[r("q-td",{attrs:{props:t}},[e._v("\n                                  "+e._s(t.rowIndex+1)+"\n                              ")])]}},{key:"body-cell-serial_no",fn:function(t){return[r("q-td",{attrs:{props:t}},[r("router-link",{attrs:{to:"/sale_orders/view/"+t.row.sale_order.id}},[e._v(e._s(t.row.sale_order.serial_no))])],1)]}},{key:"body-cell-status",fn:function(t){return[r("q-td",{attrs:{props:t}},[e._v("\n                                  "+e._s(t.row.sale_order.status)+"\n                              ")])]}},{key:"body-cell-customer",fn:function(t){return[r("q-td",{attrs:{props:t}},[r("router-link",{attrs:{to:"/customers/view/"+t.row.sale_order.customer.id}},[e._v(e._s(t.row.sale_order.customer.name))])],1)]}},{key:"body-cell-customer_type",fn:function(t){return[r("q-td",{attrs:{props:t}},[e._v("\n                                  "+e._s(t.row.sale_order.customer.type)+"\n                              ")])]}},{key:"body-cell-qty",fn:function(t){return[r("q-td",{attrs:{props:t}},[e._v("\n                                  "+e._s(t.row.qty)+"\n                              ")])]}},{key:"body-cell-rate",fn:function(t){return[r("q-td",{attrs:{props:t}},[e._v("\n                                  "+e._s(e.getRate(t.row))+"\n                              ")])]}},{key:"body-cell-created_at",fn:function(t){return[r("q-td",{attrs:{props:t}},[e._v("\n                                  "+e._s(e.getLocaleString(t.row.sale_order.created_at))+"\n                              ")])]}}])})],1)])])],1)],1)],1)},s=[],l=(r("e6cf"),r("a79d"),r("ddb0"),r("a89c")),o=r("b6c6"),n={name:"SaleOrderIndex",components:{PageToolbar:l["a"],Breadcrumbs:o["a"]},data(){return{name:null,sales:[],columns:[{name:"sl_no",label:"#",field:"sl_no",align:"left"},{name:"serial_no",label:"Serial No",field:e=>e.sale_order.serial_no,align:"left",sortable:!0},{name:"status",label:"Status",field:e=>e.sale_order.status,align:"left",sortable:!0},{name:"customer",label:"Customer",field:e=>e.sale_order.customer.name,align:"left",sortable:!0},{name:"customer_type",label:"Customer Type",field:e=>e.sale_order.customer.type,align:"left",sortable:!0},{name:"qty",label:"Qty",field:"qty",align:"right",sortable:!0},{name:"rate",label:"Rate(Incl GST)",field:"rate",align:"right",sortable:!0},{name:"created_at",label:"Created At",field:e=>e.sale_order.created_at,align:"right",sortable:!0}]}},mounted(){this.$q.loading.show(),Promise.all([this.$axios.get("products/sales/"+this.$route.params.id).then((e=>{this.sales=e.data.filter((e=>null!=e.sale_order&&null!=e.sale_order.customer))})),this.$axios.get("products/"+this.$route.params.id).then((e=>{this.name=e.data.name}))]).finally((()=>{this.$store.commit("setPageTitle","Sale Orders of "+this.name),this.$q.loading.hide()}))},computed:{breadcrumbs(){const e=[{label:"Dashboard",link:"/"},{label:"Products",link:"/products"},{label:this.name,link:"/products/view/"+this.$route.params.id},{label:"Sales"}];return e},toolbarButtons(){const e=[];return e}},methods:{getLocaleString(e){if(e){const t=new Date(e);return t.toLocaleString("en-IN")}return""},getRate(e){return e.sale_order.rate_includes_gst?e.rate:(parseFloat(e.rate)+parseFloat(e.tax_amount)/parseFloat(e.qty)).toFixed(2)}}},d=n,i=r("2877"),c=r("9989"),u=r("f09f"),m=r("a370"),_=r("eaac"),b=r("db86"),p=r("eebe"),f=r.n(p),g=Object(i["a"])(d,a,s,!1,null,null,null);t["default"]=g.exports;f()(g,"components",{QPage:c["a"],QCard:u["a"],QCardSection:m["a"],QTable:_["a"],QTd:b["a"]})}}]);