(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"9dae":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("page-toolbar",{attrs:{buttons:t.toolbarButtons}}),a("breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),a("div",{class:t.$q.screen.gt.sm?"q-px-lg q-mt-md":"q-px-xs q-mt-sm"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-table",{staticClass:"my-sticky-header-table",attrs:{"hide-bottom":"",columns:t.columns,data:t.items,"rows-per-page-options":[0]},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{class:"Balance"===e.row.type||"Total"===e.row.type?"bg-blue-grey-1 text":"",attrs:{props:e}},[a("q-td",[t._v("\n                                  "+t._s(e.rowIndex+1)+"\n                              ")]),a("q-td",{staticClass:"text-right"},[t._v("\n                                  "+t._s(t.getLocaleString(e.row.date))+"\n                              ")]),a("q-td",["sale_order"===e.row.type?[a("router-link",{attrs:{to:"/sale_orders/view/"+e.row.record_id}},[t._v(t._s(e.row.record))])]:"sale_return"===e.row.type?[a("router-link",{attrs:{to:"/sale_returns/view/"+e.row.record_id}},[t._v(t._s(e.row.record))])]:[t._v("\n                                  "+t._s(e.row.record)+"\n                                ")]],2),a("q-td",[t._v("\n                                  "+t._s(e.row.type)+"\n                              ")]),a("q-td",{class:"Balance"===e.row.type?"text-right text-green text-weight-bold":"text-right text-weight-bold"},[t._v("\n                                  "+t._s(e.row.debit?parseFloat(e.row.debit).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}):"")+"\n                              ")]),a("q-td",{class:"Balance"===e.row.type?"text-right text-red text-weight-bold":"text-right text-weight-bold"},[t._v("\n                                  "+t._s(e.row.credit?parseFloat(e.row.credit).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}):"")+"\n                              ")])],1)]}}])})],1)])])],1)],1)],1)},s=[],i=(a("e6cf"),a("a79d"),a("ddb0"),a("a89c")),o=a("b6c6"),l={name:"CustomersLedger",components:{PageToolbar:i["a"],Breadcrumbs:o["a"]},data(){return{name:null,items:[],columns:[{name:"sl_no",label:"#",field:"sl_no",align:"left"},{name:"date",label:"Date",field:"date",align:"right",sortable:!0},{name:"record",label:"Record",field:"record",align:"left",sortable:!0},{name:"type",label:"Record Type",field:"type",align:"left",sortable:!0},{name:"debit",label:"Debit",field:"debit",align:"right",sortable:!0},{name:"credit",label:"Credit",field:"credit",align:"right",sortable:!0}]}},mounted(){this.$q.loading.show(),Promise.all([this.$axios.get("customers/ledger/"+this.$route.params.id).then((t=>{this.items=t.data;const e=this.$_.sumBy(this.items,(t=>t.debit?parseFloat(t.debit):0)),a=this.$_.sumBy(this.items,(t=>t.credit?parseFloat(t.credit):0)),r=Math.abs(parseFloat(a)-parseFloat(e));r?a<e?(this.items.push({type:"Total",debit:e.toFixed(2),credit:a.toFixed(2)}),this.items.push({type:"Balance",credit:r.toFixed(2)})):(this.items.push({type:"Total",debit:e.toFixed(2),credit:a.toFixed(2)}),this.items.push({type:"Balance",debit:r.toFixed(2)})):this.items.push({type:"Total",debit:e.toFixed(2),credit:a.toFixed(2)})})),this.$axios.get("customers/"+this.$route.params.id).then((t=>{this.name=t.data.name}))]).finally((()=>{this.$q.loading.hide(),this.$store.commit("setPageTitle",this.getTitle)}))},computed:{getTitle(){return"Ledger of "+this.name},breadcrumbs(){const t=[{label:"Dashboard",link:"/"},{label:"Customers",link:"/customers"},{label:this.name,link:"/customers/view/"+this.$route.params.id},{label:"Ledger"}];return t},toolbarButtons(){const t=[];return t}}},d=l,n=a("2877"),c=a("9989"),m=a("f09f"),b=a("a370"),u=a("eaac"),h=a("bd08"),p=a("db86"),g=a("eebe"),w=a.n(g),x=Object(n["a"])(d,r,s,!1,null,null,null);e["default"]=x.exports;w()(x,"components",{QPage:c["a"],QCard:m["a"],QCardSection:b["a"],QTable:u["a"],QTr:h["a"],QTd:p["a"]})}}]);