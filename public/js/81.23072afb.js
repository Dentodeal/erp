(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[81],{"0c64":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",[e("page-toolbar",{attrs:{buttons:t.toolbarButtons}}),e("breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("div",{class:t.$q.screen.gt.sm?"q-px-lg q-mt-md":"q-px-xs q-mt-sm"},[e("q-card",[e("div",{staticClass:"row q-col-gutter-md q-pa-md "},[e("div",{staticClass:"col"},[e("q-markup-table",{attrs:{"wrap-cells":"",separator:"cell"}},[e("tbody",[e("tr",[e("td",[t._v("Template Name")]),e("td",[t._v(t._s(t.name))])]),e("tr",[e("td",[t._v("Customer/Lead")]),e("td",[t.customer?e("router-link",{attrs:{to:t.getCustomerLink}},[t._v(t._s(this.customer.name))]):t._e()],1)]),e("tr",[e("td",[t._v("Warehouse")]),e("td",[t._v(t._s(t.warehouse.name))])]),e("tr",[e("td",[t._v("Pricelist")]),e("td",[t._v(t._s(t.pricelist.name))])]),e("tr",[e("td",[t._v("FOB Point")]),e("td",[t._v(t._s(t.fob_point))])]),e("tr",[e("td",[t._v("PO Number")]),e("td",[t._v(t._s(t.po_number))])]),e("tr",[e("td",[t._v("Contact Person")]),e("td",[t._v(t._s(t.contact_person||(t.representative?t.representative.name:null)))])]),e("tr",[e("td",[t._v("Contact Phone")]),e("td",[t._v(t._s(t.contact_phone))])])])])],1),e("div",{staticClass:"col"},[e("q-markup-table",{attrs:{"wrap-cells":"",separator:"cell"}},[e("tbody",[e("tr",[e("td",[t._v("Status")]),e("td",[t._v(t._s(t.status))])]),e("tr",[e("td",[t._v("Created By")]),e("td",[t._v(t._s(t.created_by.name))])]),e("tr",[e("td",[t._v("Representative")]),e("td",[t.representative?e("div",[t._v(t._s(t.representative.name))]):t._e()])]),e("tr",[e("td",[t._v("Created At")]),e("td",[t._v(t._s(t.getLocaleString(t.created_at)))])]),e("tr",[e("td",[t._v("Valid Until")]),e("td",[t._v(t._s(t.getLocaleString(t.valid_until)))])]),e("tr",[e("td",[t._v("Ship Date")]),e("td",[t._v(t._s(t.getLocaleString(t.ship_date)))])]),e("tr",[e("td",[t._v("Ship Via")]),e("td",[t._v(t._s(t.ship_via))])]),e("tr",[e("td",[t._v("Contact Email")]),e("td",[t._v(t._s(t.contact_email))])])])])],1)]),e("div",{staticClass:"row q-col-gutter-md q-pa-md "},[e("div",{staticClass:"col"},[e("q-markup-table",{attrs:{"wrap-cells":"",separator:"cell"}},[e("tbody",[e("tr",[e("td",[t._v("Rate Includes GST: "+t._s(t.rate_includes_gst?"Yes":"No"))]),e("td",[t._v("Include Flood Cess ?: "+t._s("Yes"==t.flood_cess_included?"Yes":"No"))])])])])],1)]),e("div",{staticClass:"row q-col-gutter-md q-pa-md "},[e("div",{staticClass:"col"},[e("q-table",{attrs:{columns:t.columns,title:"Items",data:t.items,"row-key":"sl_no","wrap-cells":"",loading:t.table_loading,"rows-per-page-options":[0],filter:t.search},scopedSlots:t._u([{key:"body",fn:function(a){return[e("q-tr",{attrs:{props:a}},[e("q-td",{staticClass:"text-right"},[t._v(t._s(a.rowIndex+1))]),e("q-td",[t._v("\n                                    "+t._s(a.row.product_name)+"\n                                    "),a.row.product_id?t._e():e("q-badge",{attrs:{align:"top",outline:"",color:"primary",label:"New"}})],1),e("q-td",{staticClass:"text-right"},[a.row.gst?e("div",[t._v("\n                                        "+t._s(a.row.gst)+"%\n                                    ")]):t._e()]),e("q-td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(a.row.qty)+"\n\n                                ")]),e("q-td",{staticClass:"text-right"},[t._v("\n                                        "+t._s(a.row.is_free?"Yes":"No")+"\n                                ")]),e("q-td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(a.row.rate)+"\n                                ")]),t.rate_includes_gst?t._e():e("q-td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(a.row.taxable)+"\n                                ")]),t.rate_includes_gst?t._e():e("q-td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(a.row.tax_amount)+"\n                                ")]),e("q-td",{staticClass:"text-right"},[t._v("\n                                    "+t._s(a.row.total)+"\n                                ")])],1)]}},{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})]},proxy:!0}])})],1)]),e("div",{staticClass:"row q-mt-xs"},[e("div",{staticClass:"col-12 col-md-8 q-px-md"}),e("div",{staticClass:"col-12 col-md-4 q-px-md"},[e("div",{staticClass:"column"},[e("q-markup-table",{attrs:{"wrap-cells":"",separator:"cell"}},[e("tbody",[e("tr",[e("td",[t._v("Subtotal")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.subtotal))])]),e("tr",[e("td",[t._v("Discount")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.discount?t.discount:"0.00"))])]),e("tr",[e("td",[t._v("Freight")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.freight||"0.00"))])]),e("tr",[e("td",[t._v("Round")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.round||"0.00"))])]),e("tr",[e("td",[t._v("Total")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.total))])])])])],1)])]),t.instructions?e("div",{staticClass:"row"},[e("div",{staticClass:"col q-px-md"},[e("div",{staticClass:"text-h6"},[t._v("Instructions")]),e("div",{domProps:{innerHTML:t._s(t.instructions)}})])]):t._e(),t.terms?e("div",{staticClass:"row"},[e("div",{staticClass:"col q-px-md"},[e("div",{staticClass:"text-h6"},[t._v("Terms")]),e("div",{domProps:{innerHTML:t._s(t.terms)}})])]):t._e(),t.remarks?e("div",{staticClass:"row"},[e("div",{staticClass:"col q-px-md"},[e("div",{staticClass:"text-h6"},[t._v("Remarks")]),e("div",{domProps:{innerHTML:t._s(t.remarks)}})])]):t._e()])],1),e("page-toolbar",{staticClass:"q-mt-md",attrs:{"page-title":"",buttons:t.toolbarButtons}})],1)},l=[],r=(e("e6cf"),e("a79d"),e("a89c")),i=e("b6c6"),o={name:"QuotationsView",components:{PageToolbar:r["a"],Breadcrumbs:i["a"]},data(){return{name:null,customer:{name:null},representative:{name:null},created_by:{name:null},created_at:null,status:null,remarks:"",instructions:"",terms:"",valid_until:null,fob_point:null,po_number:null,warehouse:{name:null},pricelist:{name:null},rate_includes_gst:null,flood_cess_included:null,items:[],subtotal:null,discount:null,freight:null,round:null,total:null,search:null,table_loading:!1,ship_date:null,ship_via:null,contact_person:null,contact_phone:null,contact_email:null,exportDialog:!1,export_mode:null,export_include_gst_column:!0}},mounted(){this.$q.loading.show(),this.$axios.get("quotation_templates/"+this.$route.params.id).then((t=>{this.name=t.data.name,this.customer=t.data.customer,this.representative=t.data.representative,this.created_by=t.data.created_by,this.created_at=t.data.created_at,this.status=t.data.status,this.remarks=t.data.remarks,this.instructions=t.data.instructions,this.terms=t.data.terms,this.warehouse=t.data.warehouse,this.pricelist=t.data.pricelist,this.rate_includes_gst=t.data.rate_includes_gst,this.flood_cess_included=t.data.flood_cess_included,this.items=t.data.items,this.subtotal=t.data.subtotal,this.discount=t.data.discount,this.freight=t.data.freight,this.round=t.data.round,this.total=t.data.total,this.valid_until=t.data.valid_until,this.fob_point=t.data.fob_point,this.po_number=t.data.po_number,this.ship_date=t.data.ship_date,this.ship_via=t.data.ship_via,this.contact_person=t.data.contact_person,this.contact_phone=t.data.contact_phone,this.contact_email=t.data.contact_email})).finally((()=>{this.$store.commit("setPageTitle","Quotation Templates: "+this.name),this.$q.loading.hide()}))},methods:{getLocaleString(t){if(t){const a=new Date(t);return a.toLocaleString("en-IN")}return null}},computed:{toolbarButtons(){const t=[];return t.push({label:"Edit",id:"edit",type:"a",link:"/quotation_templates/edit/"+this.$route.params.id,color:"teal",icon:"edit"}),t},columns(){const t=[{name:"sl_no",field:"sl_no",label:"#",sortable:!0},{name:"product_name",field:"product_name",label:"Product",sortable:!0,align:"left"},{name:"gst",field:"gst",label:"GST",sortable:!0},{name:"qty",field:"qty",label:"Qty",sortable:!0},{name:"is_free",field:"is_free",label:"Free ?",sortable:!0},{name:"rate",field:"rate",label:"Rate",sortable:!0}];return this.rate_includes_gst||t.push({name:"taxable",field:"taxable",label:"Taxable",sortable:!0},{name:"tax_amount",field:"tax_amount",label:"Tax Amount",sortable:!0}),t.push({name:"total",field:"total",label:"Total",sortable:!0}),t},breadcrumbs(){const t=[{label:"Dashboard",link:"/"},{label:"Quotation Templates",link:"/quotation_templates"},{label:this.name}];return t},getCustomerLink(){return this.customer.is_lead?"/leads/view/"+this.customer.id:"/customers/view/"+this.customer.id}}},n=o,d=e("2877"),c=e("9989"),_=e("f09f"),u=e("2bb1"),m=e("eaac"),p=e("bd08"),v=e("db86"),h=e("58a81"),b=e("27f9"),g=e("0016"),q=e("eebe"),C=e.n(q),f=Object(d["a"])(n,s,l,!1,null,null,null);a["default"]=f.exports;C()(f,"components",{QPage:c["a"],QCard:_["a"],QMarkupTable:u["a"],QTable:m["a"],QTr:p["a"],QTd:v["a"],QBadge:h["a"],QInput:b["a"],QIcon:g["a"]})}}]);