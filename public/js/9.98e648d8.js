(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"6e30":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("page-toolbar",{attrs:{buttons:e.toolbarButtons},on:{save:function(t){return e.saveFn()}}}),a("breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),a("div",{class:e.$q.screen.gt.sm?"q-px-lg q-mt-md":"q-px-xs q-mt-sm"},[a("q-card",[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"basic",label:"Basic"}}),a("q-tab",{attrs:{name:"dentodeal",label:"Dentodeal"}})],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:"","keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"basic"}},[a("div",{staticClass:"text-h6 q-mt-md"},[e._v("Basic Details")]),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-12 col-md-6"},[a("q-input",{ref:"name",attrs:{dense:"",readonly:"Draft"!=e.status,filled:"",square:"",label:"Name",error:e.errors.name,"error-message":e.errorMessages.name,rules:[function(e){return!!e||"Required"}]},on:{focus:function(e){return e.target.select()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{staticClass:"col-12 col-md-3"},[a("q-input",{attrs:{dense:"",filled:"",square:"",readonly:"",label:"Status"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1),a("div",{staticClass:"col-12 col-md-3"},[a("q-input",{ref:"sku",attrs:{dense:"",filled:"",square:"",label:"SKU",readonly:"",error:e.errors.sku,"error-message":e.errorMessages.sku,rules:[function(e){return!!e||"Required"}]},scopedSlots:e._u(["Draft"==e.status?{key:"append",fn:function(){return[a("q-btn",{attrs:{label:"GENERATE",color:"primary"},on:{click:function(t){return e.generateSku()}}})]},proxy:!0}:null],null,!0),model:{value:e.sku,callback:function(t){e.sku=t},expression:"sku"}})],1),a("div",{staticClass:"col-12 col-md-6"},[a("q-input",{attrs:{filled:"",square:"",dense:"",label:"Alias",hint:"Enter aliases in comma separated"},on:{focus:function(e){return e.target.select()}},model:{value:e.alias,callback:function(t){e.alias=t},expression:"alias"}})],1),a("div",{staticClass:"col-12 col-md-6"},[a("q-input",{attrs:{filled:"",square:"",dense:"",label:"Mask Name"},on:{focus:function(e){return e.target.select()}},model:{value:e.mask_name,callback:function(t){e.mask_name=t},expression:"mask_name"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{staticClass:"input-right",attrs:{filled:"",square:"",dense:"",label:"HSN"},on:{focus:function(e){return e.target.select()}},model:{value:e.hsn,callback:function(t){e.hsn=t},expression:"hsn"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{attrs:{filled:"",square:"",dense:"",label:"Reorder Code / MPN"},on:{focus:function(e){return e.target.select()}},model:{value:e.reorder_code,callback:function(t){e.reorder_code=t},expression:"reorder_code"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{attrs:{filled:"",square:"",dense:"",label:"GTIN"},on:{focus:function(e){return e.target.select()}},model:{value:e.gtin,callback:function(t){e.gtin=t},expression:"gtin"}})],1),a("div",{staticClass:"col-12 col-md-3"},[a("q-select",{attrs:{options:e.countries,filled:"",square:"",dense:"",label:"Origin Country"},on:{focus:function(e){return e.target.select()}},model:{value:e.origin_country,callback:function(t){e.origin_country=t},expression:"origin_country"}})],1),a("div",{staticClass:"col-6 col-md-2"},[a("q-checkbox",{attrs:{"true-value":1,"false-value":0,label:"Enabled?"},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1),a("div",{staticClass:"col-6 col-md-2"},[a("q-checkbox",{attrs:{"true-value":1,"false-value":0,disable:e.$route.params.id&&null!==e.$route.params.id,label:"Expirable?"},model:{value:e.expirable,callback:function(t){e.expirable=t},expression:"expirable"}})],1)]),a("div",{staticClass:"text-h6 q-mt-md"},[e._v("Weight & Dimensions")]),a("div",{staticClass:"row  q-col-gutter-md"},[a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"weight",staticClass:"input-right",attrs:{dense:"",filled:"",square:"",label:"Weight",hint:"Enter weight in grams",error:e.errors.weight,"error-message":e.errorMessages.weight,rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"after",fn:function(){return[a("div",{staticClass:"text-body2"},[e._v("grams")])]},proxy:!0}]),model:{value:e.weight,callback:function(t){e.weight=t},expression:"weight"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"length",staticClass:"input-right",attrs:{dense:"",filled:"",square:"",label:"Length",rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"after",fn:function(){return[a("div",{staticClass:"text-body2"},[e._v("cm")])]},proxy:!0}]),model:{value:e.length,callback:function(t){e.length=t},expression:"length"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"breadth",staticClass:"input-right",attrs:{dense:"",filled:"",square:"",label:"Breadth",rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"after",fn:function(){return[a("div",{staticClass:"text-body2"},[e._v("cm")])]},proxy:!0}]),model:{value:e.breadth,callback:function(t){e.breadth=t},expression:"breadth"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"height",staticClass:"input-right",attrs:{dense:"",filled:"",square:"",label:"Height",rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"after",fn:function(){return[a("div",{staticClass:"text-body2"},[e._v("cm")])]},proxy:!0}]),model:{value:e.height,callback:function(t){e.height=t},expression:"height"}})],1)]),a("div",{staticClass:"text-h6 q-mt-md"},[e._v("Price Details")]),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"mrp",staticClass:"input-right",attrs:{filled:"",square:"",dense:"",label:"MRP",error:e.errors.mrp,"error-message":e.errorMessages.mrp,rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},model:{value:e.mrp,callback:function(t){e.mrp=t},expression:"mrp"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"gsp_customer",staticClass:"input-right",attrs:{filled:"",square:"",dense:"",label:"GSP Customer",error:e.errors.gsp_customer,"error-message":e.errorMessages.gsp_customer,rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},model:{value:e.gsp_customer,callback:function(t){e.gsp_customer=t},expression:"gsp_customer"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"gsp_dealer",staticClass:"input-right",attrs:{filled:"",square:"",dense:"",label:"GSP Dealer",error:e.errors.gsp_dealer,"error-message":e.errorMessages.gsp_dealer,rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},model:{value:e.gsp_dealer,callback:function(t){e.gsp_dealer=t},expression:"gsp_dealer"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-select",{ref:"gst",attrs:{options:e.gstOptions,"emit-value":"",dense:"","map-options":"",rules:[function(e){return!!e||"Required"}],filled:"",square:"",label:"GST"},model:{value:e.gst,callback:function(t){e.gst=t},expression:"gst"}})],1)]),a("div",{staticClass:"text-h6 q-mt-md"},[e._v("Purchase Details")]),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-select",{attrs:{label:"Default Supplier",options:e.suppliers,filled:"",dense:"",square:"","use-input":"","fill-input":"","hide-selected":"","option-label":"name","option-value":"id",loading:e.supplierLoading},on:{filter:e.supplierFilterFn},model:{value:e.default_supplier,callback:function(t){e.default_supplier=t},expression:"default_supplier"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{ref:"reorder_point",staticClass:"input-right",attrs:{filled:"",square:"",dense:"",label:"Reorder Point",rules:[function(e){return!isNaN(e)||"Invalid"}]},on:{focus:function(e){return e.target.select()}},model:{value:e.reorder_point,callback:function(t){e.reorder_point=t},expression:"reorder_point"}})],1)]),a("div",{staticClass:"text-h6 q-mt-md"},[e._v("Categorization")]),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-xs-12 col-md"},[a("q-select",{ref:"type",attrs:{label:"Type",filled:"",readonly:"Draft"!=e.status,dense:"",square:"","use-input":"","fill-input":"","hide-selected":"","option-label":"name","option-value":"id",options:e.typeOptions,rules:[function(e){return!!e||"Required"}],error:e.errors.type,"error-message":e.errorMessages.type},on:{filter:e.typeFilterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{attrs:{flat:"","no-caps":"",color:"blue-10",label:"Create New"},on:{click:function(t){return e.openNewTaxonomyDialog("type")}}})],1)],1)]},proxy:!0}]),model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("div",{staticClass:"col-xs-12 col-md"},[a("q-select",{ref:"department",attrs:{label:"Department",filled:"",dense:"",readonly:"Draft"!=e.status,square:"","use-input":"","fill-input":"","hide-selected":"","option-label":"name","option-value":"id",options:e.departmentOptions,rules:[function(e){return!!e||"Required"}],error:e.errors.department,"error-message":e.errorMessages.department},on:{filter:e.departmentFilterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{attrs:{flat:"","no-caps":"",color:"blue-10",label:"Create New"},on:{click:function(t){return e.openNewTaxonomyDialog("department")}}})],1)],1)]},proxy:!0}]),model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),a("div",{staticClass:"col-xs-12 col-md"},[a("q-select",{ref:"category",attrs:{label:"Category",filled:"",square:"",readonly:"Draft"!=e.status,dense:"","use-input":"","fill-input":"","hide-selected":"","option-label":"name","option-value":"id",options:e.categoryOptions,rules:[function(e){return!!e||"Required"}],error:e.errors.category,"error-message":e.errorMessages.category,loading:e.categoryLoading},on:{filter:e.categoryFilterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{attrs:{flat:"","no-caps":"",color:"blue-10",label:"Create New"},on:{click:function(t){return e.openNewTaxonomyDialog("category")}}})],1)],1)]},proxy:!0}]),model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),a("div",{staticClass:"col-xs-12 col-md"},[a("q-select",{ref:"sub_category",attrs:{label:"Sub Category",filled:"",square:"",readonly:"Draft"!=e.status,dense:"","use-input":"","fill-input":"","hide-selected":"","option-label":"name","option-value":"id",options:e.subCategoryOptions,rules:[function(e){return!!e||"Required"}],error:e.errors.sub_category,"error-message":e.errorMessages.sub_category,loading:e.subCategoryLoading},on:{filter:e.subCategoryFilterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{attrs:{flat:"","no-caps":"",color:"blue-10",label:"Create New"},on:{click:function(t){return e.openNewTaxonomyDialog("sub_category")}}})],1)],1)]},proxy:!0}]),model:{value:e.sub_category,callback:function(t){e.sub_category=t},expression:"sub_category"}})],1),a("div",{staticClass:"col-xs-12 col-md"},[a("q-select",{ref:"brand",attrs:{label:"Brand",filled:"",square:"",dense:"","use-input":"",readonly:"Draft"!=e.status,"fill-input":"","hide-selected":"","option-label":"name","option-value":"id",options:e.brandOptions,rules:[function(e){return!!e||"Required"}],error:e.errors.brand,"error-message":e.errorMessages.brand,loading:e.brandLoading},on:{filter:e.brandFilterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{attrs:{flat:"","no-caps":"",color:"blue-10",label:"Create New"},on:{click:function(t){return e.openNewTaxonomyDialog("brand")}}})],1)],1)]},proxy:!0}]),model:{value:e.brand,callback:function(t){e.brand=t},expression:"brand"}})],1)]),a("div",{staticClass:"row q-mt-md q-col-gutter-md"}),a("div",{staticClass:"q-gutter-md row items-start q-mt-md"},[e._l(e.images,(function(t,s){return a("q-img",{key:s+"img",staticClass:"rounded-borders",staticStyle:{width:"150px"},attrs:{src:t.thumbnail_url,ratio:"1","spinner-color":"white"},on:{click:function(t){return e.openImgDialog(s)}}},[a("q-btn",{attrs:{round:"",flat:"",color:"primary",icon:"delete"},on:{click:function(t){return e.deleteImg(s)}}})],1)})),a("q-btn",{attrs:{label:"Add Image",color:"primary"},on:{click:function(t){return e.triggerImgUpload()}}}),a("input",{ref:"imgupload",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.uploadImg()}}})],2),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-subtitle2"},[e._v("Description")]),a("q-editor",{attrs:{rows:"3"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-subtitle2"},[e._v("Remarks")]),a("q-editor",{attrs:{rows:"3"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)])]),a("q-tab-panel",{attrs:{name:"dentodeal"}},[a("div",{staticClass:"row q-mt-md q-col-gutter-md"},[a("div",{staticClass:"col-12 col-md-4"},[a("q-input",{attrs:{dense:"",filled:"",square:"",label:"Dentodeal SKU"},model:{value:e.dentodeal_sku,callback:function(t){e.dentodeal_sku=t},expression:"dentodeal_sku"}})],1),a("div",{staticClass:"col-12 col-md-4"},[a("q-toggle",{attrs:{filled:"",square:"",label:"Dentodeal Enabled"},model:{value:e.dentodeal_enabled,callback:function(t){e.dentodeal_enabled=t},expression:"dentodeal_enabled"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-toggle",{attrs:{filled:"",square:"",label:"Dentodeal Bundled"},model:{value:e.dentodeal_bundled,callback:function(t){e.dentodeal_bundled=t},expression:"dentodeal_bundled"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{attrs:{dense:"",filled:"",disable:!e.dentodeal_bundled,square:"",label:"Dentodeal Bundle Qty"},model:{value:e.dentodeal_bundle_qty,callback:function(t){e.dentodeal_bundle_qty=t},expression:"dentodeal_bundle_qty"}})],1)]),a("div",{staticClass:"row q-mt-md q-col-gutter-md"},[a("div",{staticClass:"col-12 col-md-10"},[a("q-input",{attrs:{dense:"",filled:"",square:"",label:"Dentodeal Frontend URL"},model:{value:e.dentodeal_frontend_url,callback:function(t){e.dentodeal_frontend_url=t},expression:"dentodeal_frontend_url"}})],1),a("div",{staticClass:"col-12 col-md-2"},[a("q-input",{attrs:{dense:"",filled:"",square:"",label:"Dentodeal Product ID"},model:{value:e.dentodeal_id,callback:function(t){e.dentodeal_id=t},expression:"dentodeal_id"}})],1)]),a("div",{staticClass:"row q-mt-md q-col-gutter-md"},[a("div",{staticClass:"col-12"},[a("q-toggle",{attrs:{label:"Sync stock with dentodeal"},model:{value:e.sync_stock_dentodeal,callback:function(t){e.sync_stock_dentodeal=t},expression:"sync_stock_dentodeal"}})],1)])])],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.newTaxonomyDialog,callback:function(t){e.newTaxonomyDialog=t},expression:"newTaxonomyDialog"}},[a("q-card",{staticStyle:{width:"500px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("New "+e._s(e.newTaxonomyPageTitle))])]),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{ref:"new_taxonomy_name",attrs:{label:"Name",filled:"",square:"",error:e.newTaxonomyNameError,"error-message":e.newTaxonomyNameErrorMessage},model:{value:e.newTaxonomyName,callback:function(t){e.newTaxonomyName=t},expression:"newTaxonomyName"}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"Code",filled:"",square:"",error:e.newTaxonomyCodeError,"error-message":e.newTaxonomyCodeErrorMessage},model:{value:e.newTaxonomyCode,callback:function(t){e.newTaxonomyCode=t},expression:"newTaxonomyCode"}})],1)])]),a("q-card-actions",[a("q-btn",{attrs:{label:"Submit",color:"teal"},on:{click:function(t){return e.submitNewTaxonomy()}}}),a("q-btn",{attrs:{label:"Cancel",flat:"",color:"grey-7"},on:{click:e.closeNewTaxonomyDialog}})],1)],1)],1),a("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.imgDialog,callback:function(t){e.imgDialog=t},expression:"imgDialog"}},[a("q-card",{},[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[e._v("Image Details")]),a("q-space"),a("q-btn",{attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:e.closeImgDialog}})],1),a("q-card-section",[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-xs-12 col-md-9"},[a("q-img",{attrs:{src:e.images.length>0?e.images[this.img_index].url:""}})],1),a("div",{staticClass:"col-xs-12 col-md-3"},[a("q-input",{attrs:{label:"Name",filled:"",square:""},model:{value:e.img_name,callback:function(t){e.img_name=t},expression:"img_name"}}),a("q-input",{staticClass:"q-mt-md",attrs:{type:"textarea",label:"Description",filled:"",square:""},model:{value:e.img_description,callback:function(t){e.img_description=t},expression:"img_description"}}),a("q-btn",{staticClass:"q-mt-md",attrs:{label:"Save",color:"primary"},on:{click:function(t){return e.saveImgDetails()}}})],1)])])],1)],1)],1)},o=[],r=(a("e01a"),a("c975"),a("a434"),a("e6cf"),a("a79d"),a("ddb0"),a("a89c")),i=a("b6c6"),n={name:"ProductsCreate",components:{PageToolbar:r["a"],Breadcrumbs:i["a"]},mounted(){this.$store.getters.hasPermissionTo("create_product")?(this.$route.params.id?(this.$q.loading.show(),this.$axios.get("products/"+this.$route.params.id).then((e=>{Object.keys(e.data).forEach((t=>{["description","remarks"].includes(t)?this[t]=e.data[t]?e.data[t]:"":this[t]=e.data[t]}))})).finally((()=>{this.$store.commit("setPageTitle",this.getpageTitle),this.$q.loading.hide()}))):this.$store.commit("setPageTitle",this.getpageTitle),Promise.all([this.$axios.get("product_types").then((e=>{this.types=e.data.model})),this.$axios.get("product_departments").then((e=>{this.departments=e.data.model})),this.$axios.get("gst_options").then((e=>{this.gstOptions=e.data})),this.$axios.get("countries").then((e=>{this.countries=e.data}))])):this.$router.push({name:"Error403"})},watch:{},data(){return{toolbarButtons:[{label:"Save",id:"save",type:"button",color:"teal",icon:"save"}],errors:{name:!1,sku:!1,weight:!1,mrp:!1,gsp_customer:!1,gsp_dealer:!1,type:!1,department:!1,category:!1,sub_category:!1,brand:!1},errorMessages:{name:"",sku:"",weight:"",mrp:"",gsp_dealer:"",gsp_customer:"",type:"",department:"",category:"",sub_category:"",brand:""},images:[],img_index:0,img_name:null,img_description:null,imgDialog:!1,status:"Draft",name:null,sku:null,reorder_code:null,alias:null,hsn:null,gst:null,gstOptions:[],enabled:1,expirable:0,mrp:0,gsp_customer:0,gsp_dealer:0,weight:0,description:"",remarks:"",type:null,types:[],typeOptions:[],department:null,departments:[],departmentOptions:[],category:null,categoryOptions:[],categoryLoading:!1,sub_category:null,subCategoryOptions:[],subCategoryLoading:!1,brand:null,brandOptions:[],brandLoading:!1,created_at:null,updated_at:null,newTaxonomyDialog:!1,newTaxonomyName:null,newTaxonomyNameError:!1,newTaxonomyNameErrorMessage:"",newTaxonomyCode:null,newTaxonomyCodeError:!1,newTaxonomyCodeErrorMessage:"",newTaxonomyPageTitle:"",newTaxonomyRoute:"",mask_name:null,newTaxonomy:null,tab:"basic",dentodeal_enabled:!1,dentodeal_sku:null,dentodeal_bundled:!1,dentodeal_bundle_qty:null,dentodeal_frontend_url:null,dentodeal_id:null,sync_stock_dentodeal:!0,reorder_point:null,suppliers:[],default_supplier_id:null,default_supplier:{id:null,name:null},supplierLoading:!1,length:0,breadth:0,height:0,gtin:null,origin_country:null,countries:[]}},computed:{breadcrumbs(){const e=[{label:"Dashboard",link:"/"},{label:"Products",link:"/products"},{label:this.$route.params.id?this.name:"Create",link:"/products/view/"+this.$route.params.id}];return this.$route.params.id&&e.push({label:"Edit",link:""}),e},getpageTitle(){return this.$route.params.id?"Edit: "+this.name:"Create Product"}},methods:{saveFn(){if(this.$refs.name.validate()&this.$refs.sku.validate()&this.$refs.weight.validate()&this.$refs.length.validate()&this.$refs.breadth.validate()&this.$refs.height.validate()&this.$refs.mrp.validate()&this.$refs.gsp_customer.validate()&this.$refs.gsp_dealer.validate()&this.$refs.gst.validate()&this.$refs.type.validate()&this.$refs.department.validate()&this.$refs.category.validate()&this.$refs.sub_category.validate()&this.$refs.brand.validate()&this.$refs.reorder_point.validate()){this.resetErrors();const e={status:this.status,name:this.name,hsn:this.hsn,reorder_code:this.reorder_code,gst:this.gst,alias:this.alias,sku:this.sku,weight:this.weight,length:this.length,breadth:this.breadth,height:this.height,mask_name:this.mask_name,gtin:this.gtin,mrp:this.mrp,gsp_dealer:this.gsp_dealer,gsp_customer:this.gsp_customer,enabled:this.enabled,expirable:this.expirable,type_id:this.type.id,department_id:this.department.id,category_id:this.category.id,sub_category_id:this.sub_category.id,brand_id:this.brand.id,description:this.description,remarks:this.remarks,images:JSON.stringify(this.images),dentodeal_sku:this.dentodeal_sku,dentodeal_enabled:this.dentodeal_enabled,dentodeal_bundled:this.dentodeal_bundled,dentodeal_bundle_qty:this.dentodeal_bundle_qty,dentodeal_frontend_url:this.dentodeal_frontend_url,dentodeal_id:this.dentodeal_id,sync_stock_dentodeal:this.sync_stock_dentodeal,reorder_point:this.reorder_point,origin_country:this.origin_country,default_supplier_id:this.default_supplier?this.default_supplier.id:null,_method:this.$route.params.id?"PUT":"POST"};let t="products";this.$route.params.id&&(t="products/"+this.$route.params.id),this.$axios.post(t,e).then((e=>{"success"===e.data.message&&(this.$q.notify({type:"positive",message:"Saved Succesfully."}),this.$router.back())})).catch((e=>{422===e.response.status&&(this.$q.notify({type:"negative",message:e.response.data.message}),Object.keys(e.response.data.errors).forEach((t=>{this.errors[t]=!0,this.errorMessages[t]=e.response.data.errors[t][0]})))}))}else this.$q.notify({type:"negative",message:"Invalid Data Given"})},resetErrors(){Object.keys(this.errors).forEach(((e,t)=>{this.errors[e]=!1,this.errorMessages[e]=""}))},generateSku(){this.$q.loading.show(),this.errors.sku=null;let e="generate_sku";if(this.$route.params.id&&(e="generate_sku/"+this.$route.params.id),this.$refs.type.validate()&this.$refs.department.validate()&this.$refs.category.validate()&this.$refs.sub_category.validate()&this.$refs.brand.validate()){const t={type_id:this.type.id,department_id:this.department.id,category_id:this.category.id,sub_category_id:this.sub_category.id,brand_id:this.brand.id};this.$axios.post(e,t).then((e=>{200===e.status&&(this.sku=e.data.code)})).finally((()=>{this.$q.loading.hide()}))}else this.$q.notify({type:"negative",message:"Please fill up Type,Department,Category,Sub Category,Brand"}),this.$q.loading.hide()},triggerImgUpload(){this.$refs.imgupload.click()},uploadImg(){const e=this.$refs.imgupload.files[0],t=new FormData;t.append("file",e),this.$axios.post("/img_upload?folder=products",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{const t=e.data;t.name="",t.description="",this.images.push(t)}))},deleteImg(e){const t=new FormData;t.append("data",JSON.stringify(this.images[e])),this.$axios.post("/img_delete",t).then((t=>{"success"===t.data.message&&this.images.splice(e,1)}))},openImgDialog(e){this.img_index=e,this.img_name=this.images[e].name,this.img_description=this.images[e].description,this.imgDialog=!0},saveImgDetails(){const e=this.img_index;this.images[e].name=this.img_name,this.images[e].description=this.img_description,this.closeImgDialog()},closeImgDialog(){this.img_index=0,this.img_name=null,this.img_description=null,this.imgDialog=!1},blurFn(e,t){"Decimal"===this.attributes[e][t].field_type&&(this.attributes[e][t].value=Number(this.attributes[e][t].value).toFixed(2))},typeFilterFn(e,t,a){t((()=>{if(e&&e.length>1){const t=e.toLowerCase();this.typeOptions=this.types.filter((e=>e.name.toLowerCase().indexOf(t)>-1))}}))},departmentFilterFn(e,t,a){t((()=>{if(e&&e.length>1){const t=e.toLowerCase();this.departmentOptions=this.departments.filter((e=>e.name.toLowerCase().indexOf(t)>-1))}}))},categoryFilterFn(e,t,a){t((()=>{e&&e.length>1&&(this.categoryLoading=!0,this.$axios.get("product_categories/search?keyword="+encodeURIComponent(e)).then((e=>{this.categoryOptions=e.data})).finally((()=>{this.categoryLoading=!1})))}))},subCategoryFilterFn(e,t,a){t((()=>{e&&e.length>1&&(this.subCategoryLoading=!0,this.$axios.get("product_sub_categories/search?keyword="+encodeURIComponent(e)).then((e=>{this.subCategoryOptions=e.data})).finally((()=>{this.subCategoryLoading=!1})))}))},brandFilterFn(e,t,a){t((()=>{e&&e.length>1&&(this.brandLoading=!0,this.$axios.get("product_brands/search?keyword="+encodeURIComponent(e)).then((e=>{this.brandOptions=e.data})).finally((()=>{this.brandLoading=!1})))}))},supplierFilterFn(e,t,a){t((()=>{e&&(this.supplierLoading=!0,this.$axios.get("suppliers_search?&search="+encodeURIComponent(e)).then((e=>{this.suppliers=e.data})).finally((()=>{this.supplierLoading=!1})))}))},openNewTaxonomyDialog(e){this.newTaxonomy=e,"type"===e&&(this.newTaxonomyPageTitle="Product Type",this.newTaxonomyRoute="product_types"),"department"===e&&(this.newTaxonomyPageTitle="Product Department",this.newTaxonomyRoute="product_departments"),"category"===e&&(this.newTaxonomyPageTitle="Product Category",this.newTaxonomyRoute="product_categories"),"sub_category"===e&&(this.newTaxonomyPageTitle="Product Sub Category",this.newTaxonomyRoute="product_sub_categories"),"brand"===e&&(this.newTaxonomyPageTitle="Product Brand",this.newTaxonomyRoute="product_brands"),this.resetNewTaxonomyForm(),this.newTaxonomyDialog=!0,this.$nextTick((()=>{this.$refs.new_taxonomy_name.focus()}))},resetNewTaxonomyForm(){this.newTaxonomyName=null,this.newTaxonomyCode=null,this.newTaxonomyNameError=!1,this.newTaxonomyNameErrorMessage="",this.newTaxonomyCodeError=!1,this.newTaxonomyCodeErrorMessage=""},closeNewTaxonomyDialog(){this.newTaxonomy=null,this.resetNewTaxonomyForm(),this.newTaxonomyPageTitle="",this.newTaxonomyRoute="",this.newTaxonomyDialog=!1},submitNewTaxonomy(){this.$q.loading.show();const e={name:this.capitaliseFn(this.newTaxonomyName),code:this.newTaxonomyCode.toUpperCase()};this.newTaxonomyNameError=!1,this.newTaxonomyNameErrorMessage="",this.newTaxonomyCodeError=!1,this.newTaxonomyCodeErrorMessage="",this.$axios.post(this.newTaxonomyRoute,e).then((e=>{"success"===e.data.message&&(this[this.newTaxonomy]={id:e.data.id,name:e.data.name},"type"===this.newTaxonomy&&this.types.push({id:e.data.id,name:e.data.name}),"department"===this.newTaxonomy&&this.departments.push({id:e.data.id,name:e.data.name}),this.closeNewTaxonomyDialog())})).catch((e=>{e.response.data.errors.name&&(this.newTaxonomyNameError=!0,this.newTaxonomyNameErrorMessage=e.response.data.errors.name[0]),e.response.data.errors.code&&(this.newTaxonomyCodeError=!0,this.newTaxonomyCodeErrorMessage=e.response.data.errors.code[0])})).finally((()=>{this.$q.loading.hide()}))},capitaliseFn(e){if(e){const t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].substring(1);return t.join(" ")}return""}}},l=n,d=a("2877"),c=a("9989"),u=a("f09f"),m=a("429b"),p=a("7460"),g=a("eb85"),h=a("adad"),b=a("823b"),f=a("27f9"),y=a("9c40"),_=a("ddd8"),x=a("8f8e"),v=a("66e5"),q=a("4074"),C=a("068f"),w=a("d66b"),k=a("9564"),T=a("24e8"),$=a("a370"),N=a("4b7e"),D=a("2c91"),S=a("eebe"),E=a.n(S),F=Object(d["a"])(l,s,o,!1,null,null,null);t["default"]=F.exports;E()(F,"components",{QPage:c["a"],QCard:u["a"],QTabs:m["a"],QTab:p["a"],QSeparator:g["a"],QTabPanels:h["a"],QTabPanel:b["a"],QInput:f["a"],QBtn:y["a"],QSelect:_["a"],QCheckbox:x["a"],QItem:v["a"],QItemSection:q["a"],QImg:C["a"],QEditor:w["a"],QToggle:k["a"],QDialog:T["a"],QCardSection:$["a"],QCardActions:N["a"],QSpace:D["a"]})}}]);